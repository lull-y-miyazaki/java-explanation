# 10.2.4 実習：CREATE TABLE

---

## 1. 担当者表[employee]から、部門ID[dept_id]が 20 の行を削除してください。

```sql
DELETE FROM employee WHERE dept_id = 20;
```

**実行結果（例）：**
```
DELETE 2
```

**解説：**  
- このSQLは、`employee` テーブルの中で `dept_id` が 20 のレコードを削除する命令です。  
- `DELETE` は、条件に一致した行を削除する基本命令です。  
- 実行結果の `DELETE 2` は、2件のデータが削除されたことを意味します。  
- 外部キー制約があるため、先に `employee` テーブルの関連データを削除しておかないと、  
  後で `department` テーブル側の削除に失敗します（制約違反になるため）。

（P165参照）

---

## 2. 【補足】外部キー制約と削除の順序について

**ポイント：**  
- 外部キー（Foreign Key）は、データの一貫性を守るための仕組みです。  
- 例えば、`employee` テーブルが `department` テーブルの `dept_id` を参照している場合、  
  `employee` にその `dept_id` を使っているデータがある状態では、  
  `department` の該当行を削除できません（エラーになります）。

**解決方法：**  
- まず `employee` テーブルから該当する `dept_id` の行を削除してから、  
  `department` テーブルの行を削除します。

---

## 3. 【応用】他の部門IDでの削除も試してみましょう

例：`dept_id = 30` を削除したい場合は、以下のように順序を守って実行します。

```sql
-- 先に参照先（employee）から削除
DELETE FROM employee WHERE dept_id = 30;

-- 次に部門テーブルから削除
DELETE FROM department WHERE dept_id = 30;
```

**ポイント：**  
- 削除の順序を誤ると、外部キー制約違反のエラーになります。  
- 安全に削除するには、**参照元（子テーブル）→ 参照先（親テーブル）** の順で削除すること。

---

